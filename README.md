# Quote App (Django)

Приложение для отображения случайных цитат с возможностью добавления, лайков/дизлайков и авторизации пользователей.

---

## Функционал

### Основные возможности
- **Случайная цитата** - при каждом обновлении показывается цитата с учетом веса
- **Динамический вес** - автоматически рассчитывается на основе лайков/дизлайков
- **Добавление цитат** - с выбором источника или созданием нового
- **Защита от дубликатов** - проверка уникальности текста цитат
- **Лимит источников** - не более 3 цитат на один источник

### Система голосования
- Лайки и дизлайки
- Защита от накрутки (одно голосование за цитату на сессию)
- Только для авторизованных пользователей

### Пользовательская система
- Регистрация и авторизация
- Личный кабинет с статистикой
- Топ-10 цитат по лайкам

## Стек проекта

- **Python 3.11+**
- **Django 4.2+**
- **HTML5 + CSS3**
- **JavaScript** (базовый)
- **Pytest** для тестирования

---

## Установка

```bash
# Клонирование репозитория
git clone <your-repo-url>
cd quote_project_django

# Установка зависимостей
poetry install
poetry shell

# Настройка базы данных
pythhon manage.py makemigrations
python manage.py migrate

# Создание суперпользователя
python manage.py createsuperuser

# Запуск сервера
python manage.py runserver
```

## URL приложения
- Главная: /quotes/

- Добавление цитаты: /quotes/add/

- Топ-10: /quotes/top/

- Профиль: /users/profile/

- Вход: /users/login/

- Выход: /users/logout/

- Регистрация: /users/register/

### Тестирование

```bash
# Запуск всех тестов
pytest

# Запуск с coverage
pytest --cov=quotes
```

### База данных

- Quote - цитаты с весом, лайками, просмотрами
- Source - источники цитат (фильмы, книги и т.д.)
- User - пользователи (стандартная модель Django)

### Особенности реализации

- Взвешенный случайный выбор - алгоритм с учетом веса цитат
- Сессионное управление - защита от повторного голосования
- Валидация форм - проверка дубликатов и лимитов
- Кастомные декораторы - для проверки авторизации
- Оптимизированные запросы - эффективная работа с БД